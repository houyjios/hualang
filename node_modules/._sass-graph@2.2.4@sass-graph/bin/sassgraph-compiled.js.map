{"version":3,"sources":["../../sass-graph/bin/sassgraph"],"names":[],"mappings":"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","file":"sassgraph-compiled.js","sourcesContent":["\nvar fs = require('fs');\nvar path = require('path');\n\nvar command, directory, file;\n\nvar yargs = require('yargs')\n    .usage('Usage: $0 <command> [options] <dir> [file]')\n    // .demand(1)\n\n    .command('ancestors', 'Output the ancestors')\n    .command('descendents', 'Output the descendents')\n\n    .example('$0 ancestors -I src src/ src/_footer.scss', 'outputs the ancestors of src/_footer.scss')\n\n    .option('I', {\n      alias: 'load-path',\n      default: [process.cwd()],\n      describe: 'Add directories to the sass load path',\n      type: 'array',\n    })\n\n    .option('e', {\n      alias: 'extensions',\n      default: ['scss', 'css', 'sass'],\n      describe: 'File extensions to include in the graph',\n      type: 'array',\n    })\n\n    .option('f', {\n      alias: 'follow',\n      default: false,\n      describe: 'Follow symbolic links',\n      type: 'bool',\n    })\n\n    .option('j', {\n      alias: 'json',\n      default: false,\n      describe: 'Output the index in json',\n      type: 'bool',\n    })\n\n    .version(function() {\n      return require('../package').version;\n    })\n    .alias('v', 'version')\n\n    .help('h')\n    .alias('h', 'help');\n\nvar argv = yargs.argv;\n\nif (argv._.length === 0) {\n  yargs.showHelp();\n  process.exit(1);\n}\n\nif (['ancestors', 'descendents'].indexOf(argv._[0]) !== -1) {\n  command = argv._.shift();\n}\n\nif (argv._ && path.extname(argv._[0]) === '') {\n  directory = argv._.shift();\n}\n\nif (argv._ && path.extname(argv._[0])) {\n  file = argv._.shift();\n}\n\n\ntry {\n  if (!directory) {\n    throw new Error('Missing directory');\n  }\n\n  if (!command && !argv.json) {\n    throw new Error('Missing command');\n  }\n\n  if (!file && (command === 'ancestors' || command === 'descendents')) {\n    throw new Error(command + ' command requires a file');\n  }\n\n  var loadPaths = argv.loadPath;\n  if(process.env.SASS_PATH) {\n    loadPaths = loadPaths.concat(process.env.SASS_PATH.split(/:/).map(function(f) {\n      return path.resolve(f);\n    }));\n  }\n\n  var graph = require('../').parseDir(directory, {\n    extensions: argv.extensions,\n    loadPaths: loadPaths,\n    follow: argv.follow,\n  });\n\n  if(argv.json) {\n    console.log(JSON.stringify(graph.index, null, 4));\n    process.exit(0);\n  }\n\n  if (command === 'ancestors') {\n    graph.visitAncestors(path.resolve(file), function(f) {\n      console.log(f);\n    });\n  }\n\n  if (command === 'descendents') {\n    graph.visitDescendents(path.resolve(file), function(f) {\n      console.log(f);\n    });\n  }\n} catch(e) {\n  if (e.code === 'ENOENT') {\n    console.error('Error: no such file or directory \"' + e.path + '\"');\n  }\n  else {\n    console.log('Error: ' + e.message);\n  }\n\n  // console.log(e.stack);\n  process.exit(1);\n}\n"]}