{"version":3,"sources":["../sass-graph/node_modules/yargs/node_modules/y18n/index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var fs = require('fs')\nvar path = require('path')\nvar util = require('util')\n\nfunction Y18N (opts) {\n  // configurable options.\n  opts = opts || {}\n  this.directory = opts.directory || './locales'\n  this.updateFiles = typeof opts.updateFiles === 'boolean' ? opts.updateFiles : true\n  this.locale = opts.locale || 'en'\n  this.fallbackToLanguage = typeof opts.fallbackToLanguage === 'boolean' ? opts.fallbackToLanguage : true\n\n  // internal stuff.\n  this.cache = {}\n  this.writeQueue = []\n}\n\nY18N.prototype.__ = function () {\n  var args = Array.prototype.slice.call(arguments)\n  var str = args.shift()\n  var cb = function () {} // start with noop.\n\n  if (typeof args[args.length - 1] === 'function') cb = args.pop()\n  cb = cb || function () {} // noop.\n\n  if (!this.cache[this.locale]) this._readLocaleFile()\n\n  // we've observed a new string, update the language file.\n  if (!this.cache[this.locale][str] && this.updateFiles) {\n    this.cache[this.locale][str] = str\n\n    // include the current directory and locale,\n    // since these values could change before the\n    // write is performed.\n    this._enqueueWrite([this.directory, this.locale, cb])\n  } else {\n    cb()\n  }\n\n  return util.format.apply(util, [this.cache[this.locale][str] || str].concat(args))\n}\n\nY18N.prototype._enqueueWrite = function (work) {\n  this.writeQueue.push(work)\n  if (this.writeQueue.length === 1) this._processWriteQueue()\n}\n\nY18N.prototype._processWriteQueue = function () {\n  var _this = this\n  var work = this.writeQueue[0]\n\n  // destructure the enqueued work.\n  var directory = work[0]\n  var locale = work[1]\n  var cb = work[2]\n\n  var languageFile = this._resolveLocaleFile(directory, locale)\n  var serializedLocale = JSON.stringify(this.cache[locale], null, 2)\n\n  fs.writeFile(languageFile, serializedLocale, 'utf-8', function (err) {\n    _this.writeQueue.shift()\n    if (_this.writeQueue.length > 0) _this._processWriteQueue()\n    cb(err)\n  })\n}\n\nY18N.prototype._readLocaleFile = function () {\n  var localeLookup = {}\n  var languageFile = this._resolveLocaleFile(this.directory, this.locale)\n\n  try {\n    localeLookup = JSON.parse(fs.readFileSync(languageFile, 'utf-8'))\n  } catch (err) {\n    if (err instanceof SyntaxError) {\n      err.message = 'syntax error in ' + languageFile\n    }\n\n    if (err.code === 'ENOENT') localeLookup = {}\n    else throw err\n  }\n\n  this.cache[this.locale] = localeLookup\n}\n\nY18N.prototype._resolveLocaleFile = function (directory, locale) {\n  var file = path.resolve(directory, './', locale + '.json')\n  if (this.fallbackToLanguage && !this._fileExistsSync(file) && ~locale.lastIndexOf('_')) {\n    // attempt fallback to language only\n    var languageFile = path.resolve(directory, './', locale.split('_')[0] + '.json')\n    if (this._fileExistsSync(languageFile)) file = languageFile\n  }\n  return file\n}\n\n// this only exists because fs.existsSync() \"will be deprecated\"\n// see https://nodejs.org/api/fs.html#fs_fs_existssync_path\nY18N.prototype._fileExistsSync = function (file) {\n  try {\n    return fs.statSync(file).isFile()\n  } catch (err) {\n    return false\n  }\n}\n\nY18N.prototype.__n = function () {\n  var args = Array.prototype.slice.call(arguments)\n  var singular = args.shift()\n  var plural = args.shift()\n  var quantity = args.shift()\n\n  var cb = function () {} // start with noop.\n  if (typeof args[args.length - 1] === 'function') cb = args.pop()\n\n  if (!this.cache[this.locale]) this._readLocaleFile()\n\n  var str = quantity === 1 ? singular : plural\n  if (this.cache[this.locale][singular]) {\n    str = this.cache[this.locale][singular][quantity === 1 ? 'one' : 'other']\n  }\n\n  // we've observed a new string, update the language file.\n  if (!this.cache[this.locale][singular] && this.updateFiles) {\n    this.cache[this.locale][singular] = {\n      one: singular,\n      other: plural\n    }\n\n    // include the current directory and locale,\n    // since these values could change before the\n    // write is performed.\n    this._enqueueWrite([this.directory, this.locale, cb])\n  } else {\n    cb()\n  }\n\n  // if a %d placeholder is provided, add quantity\n  // to the arguments expanded by util.format.\n  var values = [str]\n  if (~str.indexOf('%d')) values.push(quantity)\n\n  return util.format.apply(util, values.concat(args))\n}\n\nY18N.prototype.setLocale = function (locale) {\n  this.locale = locale\n}\n\nY18N.prototype.getLocale = function () {\n  return this.locale\n}\n\nY18N.prototype.updateLocale = function (obj) {\n  if (!this.cache[this.locale]) this._readLocaleFile()\n\n  for (var key in obj) {\n    this.cache[this.locale][key] = obj[key]\n  }\n}\n\nmodule.exports = function (opts) {\n  var y18n = new Y18N(opts)\n\n  // bind all functions to y18n, so that\n  // they can be used in isolation.\n  for (var key in y18n) {\n    if (typeof y18n[key] === 'function') {\n      y18n[key] = y18n[key].bind(y18n)\n    }\n  }\n\n  return y18n\n}\n"]}