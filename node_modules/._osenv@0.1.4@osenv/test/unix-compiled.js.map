{"version":3,"sources":["unix.js"],"names":[],"mappings":"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","file":"unix-compiled.js","sourcesContent":["// only run this test on windows\n// pretending to be another platform is too hacky, since it breaks\n// how the underlying system looks up module paths and runs\n// child processes, and all that stuff is cached.\nvar tap = require('tap')\n\n\nif (process.platform === 'win32') {\n  tap.plan(0, 'Skip unix tests, this is not unix')\n  process.exit(0)\n}\n\n// like unix, but funny\nprocess.env.USER = 'sirUser'\nprocess.env.HOME = '/home/sirUser'\nprocess.env.HOSTNAME = 'my-machine'\nprocess.env.TMPDIR = '/tmpdir'\nprocess.env.TMP = '/tmp'\nprocess.env.TEMP = '/temp'\nprocess.env.PATH = '/opt/local/bin:/usr/local/bin:/usr/bin/:bin'\nprocess.env.PS1 = '(o_o) $ '\nprocess.env.EDITOR = 'edit'\nprocess.env.VISUAL = 'visualedit'\nprocess.env.SHELL = 'zsh'\n\ntap.test('basic unix sanity test', function (t) {\n  var osenv = require('../osenv.js')\n\n  t.equal(osenv.user(), process.env.USER)\n  t.equal(osenv.home(), process.env.HOME)\n  t.equal(osenv.hostname(), process.env.HOSTNAME)\n  t.same(osenv.path(), process.env.PATH.split(':'))\n  t.equal(osenv.prompt(), process.env.PS1)\n  t.equal(osenv.tmpdir(), process.env.TMPDIR)\n\n  // mildly evil, but it's for a test.\n  process.env.TMPDIR = ''\n  delete require.cache[require.resolve('../osenv.js')]\n  var osenv = require('../osenv.js')\n  t.equal(osenv.tmpdir(), process.env.TMP)\n\n  process.env.TMP = ''\n  delete require.cache[require.resolve('../osenv.js')]\n  var osenv = require('../osenv.js')\n  t.equal(osenv.tmpdir(), process.env.TEMP)\n\n  process.env.TEMP = ''\n  delete require.cache[require.resolve('../osenv.js')]\n  var osenv = require('../osenv.js')\n  osenv.home = function () { return null }\n  t.equal(osenv.tmpdir(), '/tmp')\n\n  t.equal(osenv.editor(), 'edit')\n  process.env.EDITOR = ''\n  delete require.cache[require.resolve('../osenv.js')]\n  var osenv = require('../osenv.js')\n  t.equal(osenv.editor(), 'visualedit')\n\n  process.env.VISUAL = ''\n  delete require.cache[require.resolve('../osenv.js')]\n  var osenv = require('../osenv.js')\n  t.equal(osenv.editor(), 'vi')\n\n  t.equal(osenv.shell(), 'zsh')\n  process.env.SHELL = ''\n  delete require.cache[require.resolve('../osenv.js')]\n  var osenv = require('../osenv.js')\n  t.equal(osenv.shell(), 'bash')\n\n  t.end()\n})\n"]}